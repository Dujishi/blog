---
layout: post
title: 浏览器
categories: interview
description:  浏览器
keywords: 
---

### http协议
http协议是建立在TCP协议上的应用层协议，超文本传送协议

#### http1.0
客户端每次请求都会新建立一个连接，处理完请求后释放连接
#### http1.1
可以在一次连接中多次请求，并且是异步进行，避免因为多次建立连接时间耗时，支持断点续传功能
#### http2.0
1.支持多路复用，一个tcp可同时传输多个http请求，

2.头部数据还进行了压缩

3.服务端可以主动把资源推送给客户端

4.采用二进制格式传输，1.x是文本格式

#### https协议  =  http + TLS(安全传输层协议)

### http和https区别
端口号不同 http 80 https 443
https是需要申请证书
http是超文本传输协议。信息是明文传输。https则是具有安全性的ssl加密传输
http连接是无状态 https比http安全

### 请求头字段
Accept  浏览器端接受的格式。

User一Agent 客户端标识，因为一些历史原因，这是一笔糊涂账，多数浏览器的这个字段都十分复杂，区别十分微妙。

Cookie 客户端存储的cookie字符串。

Cache一Control 控制缓存的时效性。

Connection 连接方式，如果是keep一alive，且服务端支持，则会复用连接。

Host HTTP访问使用的域名。

Accept一Encoding  浏览器端接收的编码方式。
Accept一L anguage 浏览器端接受的语言，用于服务端判断多语言。
If一Modified一Since 上次访问时的更改时间，如果服务端认为此时间后自己没有更新，则会给
出304响应。
If一None一Match 次访问时使用的E一Tag，通常是页面的信息摘要，这个比更改时间更准确一些。
#### 响应头字段
Cache一Control 缓存控制，用于通知各级缓存保存的时间，例如max一age=0， 表示不要缓存。


Connection 连接类型，Keep一Alive表示复用连接。

Content一Encoding 内容编码方式，通常是gzip。

Content一Length 内容的长度，有利于浏览器判断内容是否已经结束。

Content一Type 内容类型，所有请求网页的都是text/html。

Date 当前的服务器日期。

Set一Cookie 设置cookie，可以存在多个。

Expires 过期时间，用于判断下次请求是否需要到服务端取回页面。

ETag 页面的信息摘要，用于判断是否需要重新到服务端取回页面。
Keep一Alive 保持连接不断时需要的一些信息，如timeout=5， max=100。
Last一Modified 页面上次修改的时间。
Server 服务端软件的类型。
Via 服务端的请求链路，对一些调试场景至关重要的一个头。

### 事件冒泡和事件捕获的区别
事件冒泡： 事件由具体的节点像根节点传播

事件捕获：事件从外往里传播，addEventListener 最后一个参数设为true就可以捕获事件

### 事件委托
利用了事件冒泡的原理，子节点的事件可以被父节点捕获。

优势在于： 

1.节省内存，减少监听器的数量所以只需要开辟一个内存占用 

2.对于动态新增的dom子节点同样可以实现事件监听

### target和currentTarget的区别
target 指的是事件流的目标阶段，获取的是被点击的元素

currentTarget 指的是在捕获和冒泡的阶段时 当前事件的活动对象，只有在目标阶段两者相等

### get和post的区别
get参数是拼接在url上，大小限制在32k以下。所以隐私性不好，post参数是在请求体中。

get请求回退的时候无影响，post请求在回退的时候会重新提交数据

get一般用于信息的获取，post一般用于数据的提交

get请求可以被缓存，post请求不会被缓存。

### XSS 和 CSRF区别
XSS 跨站脚本攻击 ： 向目标网站注入js脚本，执行代码获取用户信息

CSRF 是跨站伪造请求 ： 是拿到用户的cookie等信息，发送请求

如何防止CSRF ： 请求加token ，

如何防止XSS：对script iframe进行转义 ，cookie设置httponly 

### V8引擎如何执行一段js代码
首先会预解析，这个过程就是检查错误不会生成语法树，第二步是通过解析生成语法树，第三步基于编辑器将语法树生成字节码.最后吧字节码在转换为机器码。一段代码执行后会保存起来。下次执行就不需要经过字节码，优化了速度

### 如何优化首屏加载速度
1.首先压缩js和css的文件大小，减少css层级关系

2.在js脚本适当运用defer和async的标签来进行异步下载，避免因为网络问题页面被阻塞

### 什么是GPU加速
在transform opcity filters 等属性的时候，会直接在GPU中完成，不会引起重绘和回流，但是GPU渲染字体会有模糊的效果，并且过多的GPU处理会导致内存问题

### 为什么通常在发送数据埋点请求的时候使用的是 1x1 像素的透明 gif 图片？
首先是因为没有跨域问题，其次是不会阻塞页面，gif图片在图片格式中体积最小
